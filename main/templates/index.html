<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Classical RAG System</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<div id="status-bar">âœ¨ 29,873 Records</div>

<h1>Classical RAG System</h1>

<div id="error-container"></div>

<form id="query-form">
  <div class="form-section">
    <div class="input-container">
      <input type="text" id="query-input" placeholder=" " autocomplete="off">
      <label for="query-input" class="input-label">Ask about your documents...</label>
    </div>

    <div class="slider-container">
      <label for="k-slider" class="slider-label">
        Top K similar documents: <span id="k-value-label">10</span>
      </label>
      <input type="range" id="k-slider" min="2" max="15" value="10">
    </div>

    <button type="submit" id="submit-btn">Generate Answer</button>
  </div>
</form>

<div class="loader" id="loader"></div>

<div id="answer-container">
  <h2>Answer</h2>
  <div id="answer-text"></div>
</div>

<div id="docs-container"></div>

<div id="graph-section">
  <div class="graph-header">
    <h2>Knowledge Graph</h2>
    <button id="export-graph">Export Graph as PNG</button>
  </div>
  <div id="graph-container"></div>
  <div id="legend">
    <div class="legend-item"><span class="legend-color" style="background:#1f77b4"></span> Document</div>
    <div class="legend-item"><span class="legend-color" style="background:#ff7f0e"></span> Person</div>
    <div class="legend-item"><span class="legend-color" style="background:#2ca02c"></span> Organization</div>
    <div class="legend-item"><span class="legend-color" style="background:#d62728"></span> Location</div>
    <div class="legend-item"><span class="legend-color" style="background:#9467bd"></span> Concept</div>
    <div class="legend-item"><span class="legend-color" style="background:#8c564b"></span> Technology</div>
  </div>
</div>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>